<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expenser App</title>
    <link rel="stylesheet" href="./css/primary.css" type="text/css"/>
</head>
<body>
    <!-- Header Section -->
    <div class="header">

        <img onclick="showMobileMenu()" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAcklEQVR4nO3YQQqEMAxA0R5v9P5rBfEA+ZC41ROIAyOOyn+QfQMtfNqaJEknSegLxgXWO0/BmNDtLlIw/fuQy7cTMb9/kYSuYHjA1Roy4vPzW5IkSbpQmvHcq37LjMeMlyRJOmDGY8av/saHv/GSpHaaDen84ECDtMPzAAAAAElFTkSuQmCC" alt="menu--v6" id="mobile-header-img-menu">
        <h1>Expenser</h1>
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADpElEQVR4nO1aS2sUQRCeEFF8Ixg9GINgwBdifKARj+JF7+pR0R8Q0VtUEEHRoL9AT94MwYNXBQ8a8RC9ehDFhBg22cx81bPVs3m21GaTjJvs7Lzc2UQLChZmZru+qa7ur78ay/pv/4Ax8IiBGU1k/M7AlCa6aa0U00RDlSB8/tlaCWby+S0MzFYDwkDRGLPGanRjos6AbJS8qNT+zALUtt3GRDeUUi1B93lEV2sB0cDFoP9QSrUwUZceH9+dKgjPcfYw0Y9yELkC0YVq9zLQUwsIE90LGOusBobL9w55QHs6IID2yuKVGmDgiTFmnf9eANsYeB8CyFszNrbZ/6wxZq28hMr6YqJBD9ibOogK/1JU6mCpLoBXDEzUnFaLL0Mz8MJ13cNFon2aaCAAeHwwnM+31gAxH9Bk2OCrPC/Z9UJkcZCZd0XPRpiirbN7RFciAzHDwxsY+Jp18HoxI99MLrfJimMMHE86dVIBAUwx0SkriWngbtZANHDbSmpCJxjozzAbH4wxzVYaJstwFlOMAZ14D/GbJjqdUTZmXNc9lB4Q4HXEOZ3TQHfBcTrMyMhG8YLjHJW5XroWDcyzVEC4rrujfCAKO/jLSvrhN7mmiXpDAyEiY8z6eOcJos6CUteFT2miT5FAGNNUcwxjmiKBAd4x8Fg2aQZOBr0oOUc8FBoQe04DucABlnlhGhiNXT9EPyXmpUCA6UTFCXRbEU0DdxIuBtPLAal6PA3jBds+EhVIaQFIBmQ2dSBxeFC58BsMyFj4+vijThoNSMFxOhplak3Wm9glJaQMTC79U6JbIp6J7lSP5de27a0aGIsJoCixBqqWwnblHK6BS0z0IIyY4PPe0Bsi0Bc6cKI3THRfZKSiUgdiCXwxKEqvFHGNTEQBoWJRlJRI46hsdgXHOSbLsrj8LtVExOnEwPNUQGRM42dTpfEl7Sra9EoLiCeaVyogRE0UIS6LjOg5HxAVMjEQDTzNEIQpZ6YnEQgPOJd0x0+rVgpE52OBUEpt18CvrEHoeQdyruvujAxEeiGZB08VmSHqitXYCSliT9RDxNYSi223WX+lrQB8LGlec22FvrhtBdGuaoiAQ4kbPlUaPVOyS1dynnKjpz+MmLBMo6dZGPQyLDzFrpWv9cZE37VSZ5Is10IAqz3PwAlfFyA9EAsD5POtIseI2BZ0n6fUtRAr0OVaLQ1PpJ84jZ168jKh4lajm1ktHwysmk84FlTL1fBRzX+z4ttvrK32dC5bB6kAAAAASUVORK5CYII=" alt="settings" id="mobile-header-img-setting">

        <nav>
            <ul id="desktop-nav">
                <li><a href="#home">Home</a></li>
                <li><a href="#categories">Categories</a></li>
                <li><a href="#expenses">Expenses</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </div>
    <div id="mobile-nav-parent-div">
        <nav class="mobile-nav" id="mobile-nav">
            <ul>
                <li>Dashboard</li>
                <li>Manage Categories</li>
                <li>Manage Expense</li>
                <li>Settings</li>
                <li>My Account</li>
            </ul>
        </nav>
    </div>

    <!-- Main Content Section -->
    <div class="main">
        <!-- Categories Section -->
        <div id="categories" class="section">
            <h2>Categories</h2>
            <p>List of expense categories will go here.</p>
            <div id="category-list">

            </div>
        </div>

        <!-- Expenses Section -->
        <div id="expenses" class="section">
            <h2>Expenses</h2>
            <p>Details of expenses will go here.</p>
        </div>
    </div>

    <!-- Footer Section -->
    <div class="footer">
        <p>&copy; 2024 Expenser App. All rights reserved.</p>
    </div>
    <script>
        function showMobileMenu(){
        let x = document.getElementById("mobile-nav");
        if(x.style.display==="none"){
            x.style.display = "block";
        }
        else{
            x.style.display="none";
        }
        }

        // URL of the API endpoint
        const apiUrl = 'https://localhost:7166/api/Category';

        // Function to fetch categories
        async function fetchCategories() {
            try {
                const response = await fetch(apiUrl);

                if (!response.ok) {
                    throw new Error(`Error: ${response.status} - ${response.statusText}`);
                }

                const categories = await response.json();
                displayCategories(categories);
            } catch (error) {
                console.error('Failed to fetch categories:', error);
                document.getElementById('category-list').innerHTML = `<li>${error.message}</li>`;
            }
        }

        // Function to display categories in the HTML
        function displayCategories(categories) {
            const categoryList = document.getElementById('category-list');
            categoryList.innerHTML = '';

            categories.forEach(category => {
                const listItem = document.createElement('li');
                listItem.textContent = `${category.id} - ${category.category_name}`;
                categoryList.appendChild(listItem);
                const button = document.createElement('button');
                button.value = "Delete";
                button.innerText="Delete"
                listItem.appendChild(button)
            });
        }

        // Call the fetch function on page load
        fetchCategories();
    </script>

</body>
</html>
